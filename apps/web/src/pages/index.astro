---
import { Image } from "astro:assets";
import CTAButton from "../components/CTAButton.astro";
import { ThemeToggle } from "../components/ThemeToggle.tsx";
import "../styles/global.css";

const APP_URL = import.meta.env.PUBLIC_APP_URL;
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		<link rel="manifest" href="/site.webmanifest" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<meta name="description" content="AI phone screen practice tailored to your target job. Run a realistic 15-minute voice screen and get a rubric-aligned scorecard with next steps. First session free." />
		
		<!-- Prevent dark mode flash -->
		<script>
			(function() {
				function getSystemTheme() {
					return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
				}
				
				const storedTheme = localStorage.getItem('theme') || 'system';
				const theme = storedTheme === 'system' ? getSystemTheme() : storedTheme;
				
				if (theme === 'light') {
					document.documentElement.classList.add('light');
				}
				// Dark mode is default, no class needed
			})();
		</script>
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
		
		
		<!-- Wistia Player -->
		<script src="https://fast.wistia.com/player.js" async></script>
		<script src="https://fast.wistia.com/embed/k06pni3j7d.js" async type="module"></script>
		<style>wistia-player[media-id='k06pni3j7d']:not(:defined) { background: center / contain no-repeat url('https://fast.wistia.com/embed/medias/k06pni3j7d/swatch'); display: block; filter: blur(5px); padding-top:62.29%; }</style>
		
		<title>Syntaxia — AI phone screen practice tailored to your target job</title>
		
	</head>
	<body class="min-h-screen bg-background text-foreground font-mono" style="scroll-behavior: smooth;">
		<header class="border-b border-terminal-green/30 bg-terminal-dark font-mono">
			<div class="mx-auto max-w-6xl px-6 flex h-16 items-center justify-between">
				<a href="/" class="flex items-center gap-1 hover:opacity-80 transition-opacity">
					<span class="text-terminal-amber">$</span>
					<span class="font-mono font-bold text-terminal-green">syntaxia</span>
					<span class="text-terminal-green animate-pulse">_</span>
				</a>
				
				<!-- Navigation Links -->
				<nav class="hidden md:flex items-center gap-4">
					<a href="#how-it-works" class="font-mono text-sm text-terminal-green hover:text-terminal-amber transition-colors">
						./how-it-works
					</a>
					<a href="#walkthrough" class="font-mono text-sm text-terminal-green hover:text-terminal-amber transition-colors">
						./walkthrough
					</a>
					<a href="#pricing" class="font-mono text-sm text-terminal-green hover:text-terminal-amber transition-colors">
						./pricing
					</a>
					<a href="#faq" class="font-mono text-sm text-terminal-green hover:text-terminal-amber transition-colors">
						./faq
					</a>
				</nav>
				
				<div class="flex items-center gap-3">
						<ThemeToggle client:idle />
						<CTAButton variant="secondary" size="sm" href={`${APP_URL}`}>
							./login
						</CTAButton>
				</div>
			</div>
		</header>

		<main class="container mx-auto px-4 py-12 max-w-5xl">
			<!-- Hero Section -->
			<div class="text-center mb-16">
				<div class="mx-auto max-w-3xl md:max-w-4xl">
					<h1 class="text-4xl md:text-5xl font-bold text-terminal-green leading-[1.15] tracking-tight mb-6 mt-10" style="text-wrap: balance">
						<span class="text-terminal-amber">AI</span> phone screen practice tailored to your target job
					</h1>
					<p class="text-terminal-green/70 text-base md:text-lg leading-relaxed">
						Paste a job description and run a realistic 15-minute voice screen. Receive a scorecard with what went well, what to fix, and next steps.
					</p>
					<p class="text-terminal-green/80 text-sm mt-3 font-mono">
						No scheduling — start in seconds. First session free.
					</p>
					<div class="mt-6">
						<CTAButton size="lg" href={`${APP_URL}`}>
							./practice-now
						</CTAButton>
					</div>
				</div>
			</div>

			<!-- Video Demo (moved below fold) -->
			<div id="demo" class="mb-16">
				<wistia-player media-id="k06pni3j7d" aspect="1.605351170568562"></wistia-player>
			</div>

			<!-- Social Proof -->
			<div class="text-center mb-16">
				<h2 class="text-xl font-bold text-terminal-green mb-6">$ cat testimonials.txt</h2>
				<div class="mx-auto max-w-3xl">
					<div class="border border-terminal-green/30 p-6 md:p-8 bg-card">
						<p class="text-terminal-green/80 text-base md:text-lg mb-3 italic font-mono">
							"A super helpful, seamless tool for interview prep with zero latency, even on unstable internet."
						</p>
						<div class="text-terminal-green/60 text-xs md:text-sm">
							— <a href="https://x.com/Alphityy" target="_blank" rel="noopener noreferrer" class="underline text-terminal-green hover:text-terminal-amber">Alpha Lencho</a>, Ethiopia (East Africa)
						</div>
					</div>
				</div>
			</div>

			<!-- How it Works -->
			<div id="how-it-works" class="mb-16">
				<h2 class="text-xl font-bold text-terminal-green mb-6 text-center">$ ./how-it-works</h2>
				<div class="grid sm:grid-cols-2 gap-8 md:gap-10">
					<div class="border border-terminal-green/30 p-6 md:p-8 bg-card">
						<div class="flex items-center mb-3 gap-2">
						<span class="px-2 py-[2px] border border-terminal-green/30 text-terminal-amber text-sm">1</span>
							<h3 class="text-terminal-green text-lg md:text-xl font-semibold">paste-job</h3>
						</div>
						<div class="max-w-[60ch]">
							<p class="text-terminal-green/80 text-base md:text-lg leading-relaxed font-mono">Paste the job description so the interview mirrors the role.</p>
							<div class="mt-3 pt-3 border-t border-terminal-green/10">
								<p class="text-terminal-green/60 text-xs md:text-sm font-mono">Templates available if you don't have a job description.</p>
							</div>
						</div>
					</div>
					<div class="border border-terminal-green/30 p-6 md:p-8 bg-card">
						<div class="flex items-center mb-3 gap-2">
						<span class="px-2 py-[2px] border border-terminal-green/30 text-terminal-amber text-sm">2</span>
							<h3 class="text-terminal-green text-lg md:text-xl font-semibold">parse-job</h3>
						</div>
						<div class="max-w-[60ch]">
							<p class="text-terminal-green/80 text-base md:text-lg leading-relaxed font-mono">We extract skills and topics from the job description to shape the interview.</p>
							<div class="mt-3 pt-3 border-t border-terminal-green/10">
								<p class="text-terminal-green/60 text-xs md:text-sm font-mono">Tuned for entry-level roles.</p>
							</div>
						</div>
					</div>
					<div class="border border-terminal-green/30 p-6 md:p-8 bg-card">
						<div class="flex items-center mb-3 gap-2">
						<span class="px-2 py-[2px] border border-terminal-green/30 text-terminal-amber text-sm">3</span>
							<h3 class="text-terminal-green text-lg md:text-xl font-semibold">practice-conversation</h3>
						</div>
						<div class="max-w-[60ch]">
							<p class="text-terminal-green/80 text-base md:text-lg leading-relaxed font-mono">Talk through problems with the AI interviewer—like a real phone screen.</p>
							<div class="mt-3 pt-3 border-t border-terminal-green/10">
								<p class="text-terminal-green/60 text-xs md:text-sm font-mono">No scheduling — start now.</p>
							</div>
						</div>
					</div>
					<div class="border border-terminal-green/30 p-6 md:p-8 bg-card">
						<div class="flex items-center mb-3 gap-2">
						<span class="px-2 py-[2px] border border-terminal-green/30 text-terminal-amber text-sm">4</span>
							<h3 class="text-terminal-green text-lg md:text-xl font-semibold">get-review-and-plan</h3>
						</div>
						<div class="max-w-[60ch]">
							<p class="text-terminal-green/80 text-base md:text-lg leading-relaxed font-mono">Receive a clear scorecard and a prioritized action plan with next steps.</p>
							<div class="mt-3 pt-3 border-t border-terminal-green/10">
								<p class="text-terminal-green/60 text-xs md:text-sm font-mono">Clear next steps to improve.</p>
							</div>
						</div>
					</div>
				</div>
			</div>


			<!-- Product Screenshots -->
			<div id="walkthrough" class="mb-16">
				<h2 class="text-xl font-bold text-terminal-green mb-8 text-center">$ ./walkthrough</h2>
				<!-- Steps 1 & 2 on same row -->
				<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mb-8">
					<!-- Step 1: Job Description Input -->
					<div class="border border-terminal-green/30 bg-card p-4 relative">
						<div class="absolute -top-3 left-4 bg-background px-3 py-1 border border-terminal-green/30 z-10">
							<span class="text-terminal-amber font-mono text-xs">Step 1</span>
						</div>
						<div class="bg-terminal-dark border border-terminal-green/20 overflow-hidden mb-3 h-[280px] mt-3">
							<a href="https://afg7xsppojwqvdjk.public.blob.vercel-storage.com/dark-jd-page.png" data-glightbox="title: Step 1: Input job description; description: Paste your job description so the interview mirrors the role.">
								<Image 
									src="https://afg7xsppojwqvdjk.public.blob.vercel-storage.com/dark-jd-page.png"
									alt="Syntaxia job description input interface showing where users paste and analyze job requirements"
									class="w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity"
									loading="lazy"
									width={1200}
									height={800}
								/>
							</a>
						</div>
						<p class="text-terminal-green/70 text-sm mt-1">Input job description</p>
						
					</div>

					<!-- Step 2: Interview Session -->
					<div class="border border-terminal-green/30 bg-card p-4 relative">
						<div class="absolute -top-3 left-4 bg-background px-3 py-1 border border-terminal-green/30 z-10">
							<span class="text-terminal-amber font-mono text-xs">Step 2</span>
						</div>
						<div class="bg-terminal-dark border border-terminal-green/20 overflow-hidden mb-3 h-[280px] mt-3">
							<a href="https://afg7xsppojwqvdjk.public.blob.vercel-storage.com/dark-interview-page.png" data-glightbox="title: Step 2: Start having an actual conversation; description: Talk through problems with the AI interviewer—like a real phone screen.">
								<Image 
									src="https://afg7xsppojwqvdjk.public.blob.vercel-storage.com/dark-interview-page.png"
									alt="Syntaxia interview session interface showing voice conversation with AI interviewer"
									class="w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity"
									loading="lazy"
									width={1200}
									height={800}
								/>
							</a>
						</div>
						<p class="text-terminal-green/70 text-sm mt-1">Start having an actual conversation</p>
						
					</div>
				</div>

				<!-- Step 3 on its own row for better visibility -->
				<div class="max-w-4xl mx-auto">
					<!-- Step 3: Detailed Report -->
					<div class="border border-terminal-green/30 bg-card p-4 relative">
						<div class="absolute -top-3 left-4 bg-background px-3 py-1 border border-terminal-green/30 z-10">
							<span class="text-terminal-amber font-mono text-xs">Step 3</span>
						</div>
						<div class="bg-terminal-dark border border-terminal-green/20 overflow-hidden mb-3 h-[400px] mt-3">
							<a href="https://afg7xsppojwqvdjk.public.blob.vercel-storage.com/dark-report-page.png" data-glightbox="title: Step 3: Get a detailed report after the interview; description: Receive a clear scorecard and a prioritized action plan with next steps.">
								<Image 
									src="https://afg7xsppojwqvdjk.public.blob.vercel-storage.com/dark-report-page.png"
									alt="Syntaxia session review dashboard showing performance metrics and improvement suggestions"
									class="w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity"
									loading="lazy"
									width={1200}
									height={800}
								/>
							</a>
						</div>
						<p class="text-terminal-green/70 text-sm mt-1">Get a detailed report after the interview</p>
					</div>
				</div>
			</div>

			<!-- Pricing -->
			<div id="pricing" class="mb-16">
				<h2 class="text-xl font-bold text-terminal-green mb-6 text-center">$ ./pricing</h2>
				<div class="border border-terminal-green/30 bg-card px-6 md:px-10 py-10 md:py-12">
					<p class="text-center text-terminal-green/70 text-sm font-mono mb-8">
						First session is free (15 credits at signup). Packs for additional sessions:
					</p>
					
					<!-- Mobile: Stack vertically, Desktop: 3-column grid -->
					<div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 md:gap-8 max-w-5xl mx-auto">
						<!-- 1 Session -->
						<div class="border border-terminal-green/30 bg-card p-6 md:p-8 flex flex-col relative order-2 sm:order-1">
							<h3 class="text-terminal-green font-semibold text-lg mb-2">./1-session</h3>
							<div class="mb-4">
								<p class="text-3xl md:text-4xl text-terminal-amber font-mono">$12.99</p>
								<p class="text-terminal-green/60 text-xs font-mono">$12.99 per session</p>
							</div>
							<p class="text-terminal-green/70 text-sm">15-minute interview session</p>
						</div>

						<!-- 3 Sessions - Most Popular -->
						<div class="border-2 border-terminal-amber bg-card p-6 md:p-8 flex flex-col relative order-1 sm:order-2 transform sm:scale-105">
							<!-- Most Popular Badge -->
							<div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-terminal-amber text-black px-4 py-1 text-xs font-mono font-bold">
								MOST POPULAR
							</div>
							<!-- Savings Badge -->
							<div class="absolute right-3 top-6 bg-terminal-green text-black px-3 py-1 text-xs font-mono font-bold">
								Save 10.2%
							</div>
							<h3 class="text-terminal-green font-semibold text-lg mb-2 mt-6">./3-sessions</h3>
							<div class="mb-4">
								<p class="text-3xl md:text-4xl text-terminal-amber font-mono">$34.99</p>
								<p class="text-terminal-green/60 text-xs font-mono">$11.66 per session</p>
							</div>
							<p class="text-terminal-green/70 text-sm mb-4">3 × 15-minute interview sessions</p>
						</div>

						<!-- 5 Sessions -->
						<div class="border border-terminal-green/30 bg-card p-6 md:p-8 flex flex-col relative order-3">
							<!-- Savings Badge -->
							<div class="absolute right-3 top-3 bg-terminal-green/20 border border-terminal-green/50 text-terminal-green px-3 py-1 text-xs font-mono">
								Save 15.3%
							</div>
							<h3 class="text-terminal-green font-semibold text-lg mb-2 mt-6">./5-sessions</h3>
							<div class="mb-4">
								<p class="text-3xl md:text-4xl text-terminal-amber font-mono">$54.99</p>
								<p class="text-terminal-green/60 text-xs font-mono">$11.00 per session</p>
							</div>
							<p class="text-terminal-green/70 text-sm mb-4">5 × 15-minute interview sessions</p>
						</div>
					</div>

					<!-- CTA Button inside pricing container -->
					<div class="mt-10 flex justify-center">
						<CTAButton size="lg" href={`${APP_URL}`}>
							./practice-now
						</CTAButton>
					</div>
				</div>
			</div>

			<!-- FAQ / Objections -->
			<div id="faq" class="mb-12">
				<h2 class="text-xl font-bold text-terminal-green mb-6 text-center">$ ./faq</h2>
				<div class="space-y-4">
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: How is this different from LeetCode practice?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							LeetCode tests algorithm knowledge. Syntaxia practices the actual conversation skills and communication abilities that real phone screens require. You'll experience realistic technical discussions, not just algorithmic problem-solving.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: Is this too advanced for me?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							It's built for entry-level candidates. You'll get beginner-friendly scaffolding and rubric-aligned follow-ups.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: How does the free session work?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							When you sign up, 15 credits are automatically added. One 15-minute session costs 15 credits—your first one is free.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: What if I don't have a job description?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							You can pick from entry-level templates or paste any posting later. Templates are tuned for typical junior roles.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: What do I need to get started?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							A quiet place and a mic. No scheduling—click start and you're in a practice screen within seconds.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: How realistic is the conversation?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							It adapts like a real interviewer: clarifying questions, follow-ups, and trade-off prompts aligned to the job description.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: What do I get after the session?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							What went well, what you can improve and a plan on what to improve next.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: How is my data used?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							Your recordings and job descriptions are used to generate your report and improve your practice experience. We don't sell your data.
						</div>
					</details>
					<details class="border border-terminal-green/30 bg-card">
						<summary class="p-4 cursor-pointer font-mono text-sm text-terminal-green hover:bg-terminal-green/5">
							Q: Is there a subscription or refund?
						</summary>
						<div class="px-4 pb-4 text-terminal-green/80 text-sm">
							No subscription—pay per session or discount packs. If something breaks, contact us and we'll make it right.
						</div>
					</details>
				</div>
			</div>
			
			<!-- Footer -->
			<div class="mt-12 text-center">
				<div class="border-t border-terminal-green/20 pt-6">
					<!-- Footer Navigation -->
					<div class="flex justify-center gap-6 mb-4">
						<a 
							href="/terms" 
							class="font-mono text-xs text-terminal-green/70 hover:text-terminal-amber transition-colors"
						>
							./terms
						</a>
						<a 
							href="/privacy" 
							class="font-mono text-xs text-terminal-green/70 hover:text-terminal-amber transition-colors"
						>
							./privacy
						</a>
					</div>
					<p class="text-terminal-green/50 text-sm">
						Built for developers, by developers.
					</p>
				</div>
			</div>
		</main>
		
		<!-- Custom Lightbox JavaScript -->
		<script>
			// Simple lightbox implementation
			document.addEventListener('DOMContentLoaded', () => {
				const lightboxLinks = document.querySelectorAll('[data-glightbox]');
				
				lightboxLinks.forEach(link => {
					link.addEventListener('click', (e) => {
						e.preventDefault();
						
						// Create lightbox overlay
						const overlay = document.createElement('div');
						overlay.style.cssText = `
							position: fixed;
							top: 0;
							left: 0;
							width: 100%;
							height: 100%;
							background: rgba(0, 0, 0, 0.9);
							display: flex;
							align-items: center;
							justify-content: center;
							z-index: 9999;
							cursor: pointer;
						`;
						
						// Create image
						const img = document.createElement('img');
						img.src = (link as HTMLAnchorElement).href;
						img.style.cssText = `
							max-width: 90%;
							max-height: 90%;
							object-fit: contain;
							border: 2px solid #00ff00;
						`;
						
						overlay.appendChild(img);
						document.body.appendChild(overlay);
						
						// Close on click
						overlay.addEventListener('click', () => {
							document.body.removeChild(overlay);
						});
						
						// Close on ESC
						const handleEsc = (e: KeyboardEvent) => {
							if (e.key === 'Escape') {
								document.body.removeChild(overlay);
								document.removeEventListener('keydown', handleEsc);
							}
						};
						document.addEventListener('keydown', handleEsc);
					});
				});
			});
		</script>
	</body>
</html>
