name: Deploy ConvAI Agents
on:
  push:
    paths:
      - '**'
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Deploy ConvAI agents
        run: |
          npm install -g @elevenlabs/convai-cli
          export ELEVENLABS_API_KEY=${{ secrets.ELEVENLABS_API_KEY }}
          convai sync --env prod --dry-run  # Preview changes
          convai sync --env prod            # Deploy
          convai status --env prod          # Verify deployment
